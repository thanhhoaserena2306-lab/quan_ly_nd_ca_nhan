<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang thống kê Admin</title>
</head> <style>

    body{
        font-family: Arial, Helvetica, sans-serif;
        background:rgb(236, 202, 231);
        padding: 30px;

    }
    h1{
        font-size: 30px;
        margin-bottom:15px;
    }
    .container{
        margin-top: 30px;
        display:flex;
        gap:20px;
        flex-wrap: wrap;
        text-align: center;

    }
    .card{
        width: 220px;
        background-color: rgb(228, 123, 219);
        padding:20px;
        border-radius: 15px;
        box-shadow: 0 4px 6px gray;

    }
    .value{
        font-size:30px ;
        font-weight: bold;
        margin-top: 5px;

    }
</style>

<body>
    <h1> Thống kê hệ thống Admin</h1>
    <p id="hello"></p>
    <div class="container">
        <div class="card">
            <div >Tổng số tài khoản  </div>
            <div class="value" id="tonguser">0</div>
        </div>
        <div class="card">
            <div> Tổng bài đăng</div>
            <div class="value"id="tongbai">0</div>
        </div>
        <div class="card">
            <div> Tổng bài đăng công khai</div>
            <div class="value"id="tongcongkhai">0</div>
        </div>
        <div class="card">
            <div> Tổng lượt like</div>
            <div class="value"id="tonglike">0</div>
        </div>
        <div class="card">
            <div> Tổng bình luận nhận  </div>
            <div class="value"id="tongbl">0</div>
        </div>
    </div>
    <script>
                let currentUser=JSON.parse(localStorage.getItem("currentUser"));
                let users=JSON.parse(localStorage.getItem("users")) ||[];
                let contents=JSON.parse(localStorage("contents")) ||[];
                let comment=JSON.parse(localStorage.getItem("comment")) ||[];

             // thêm nội dung để hiển thị 
             document.getElementById("hello").innerText="Xin chào," + currentUser.username;
            

            // lọc công khai/riêng tư nè
            let tongcongkhai=contents.filter(c=>c.chon==="congkhai").length;
            
            document.getElementById("tonguser").innerText=users.length;
            document.getElementById("tongbai").innerText=contents.length;
            document.getElementById("tongcongkhai").innerText=tongcongkhai;
            document.getElementById("tonglike").innerText=contents.reduce((sum,x)=>sum+(x.thich  || 0 ),0);

            document.getElementById("tongbl").innerText=comment.length;

    </script>
    
</body>
</html>
